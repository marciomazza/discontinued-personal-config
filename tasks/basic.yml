---
- name: basic - common programs
  apt:
    pkg:
      # basic ######################################
      - python-pip
      - python3-pip
      - tree
      - trash-cli
      - xclip
      - curl
      - terminator
      - smbclient

      # infra ######################################
      - htop

      # dev ########################################
      # version control
      - git
      - subversion
      - mercurial

      # databases
      - mysql-server
      - mysql-client
      - libmysqlclient-dev # to be able to pip install MySQL-python
      - postgresql

      # dev tools
      - nodejs
      - ruby-sass
      - silversearcher-ag
  become: true

- name: basic - enumerate .config files
  find: path="{{ confdir }}/files/config"
  register: config_files

- name: basic - link .config files
  file:
    src: "{{ item.path }}"
    dest: "{{ home }}/.config/{{ item.path | basename }}"
    state: link
    force: yes
  with_items: "{{ config_files.files }}"

- name: basic - general configuration files at home
  file:
    src: "{{ files }}/{{ item }}"
    dest: "{{ home }}/{{ item }}"
    state: link
    force: yes
  with_items:
    - .agignore

- name: devtools -- geckodriver
  unarchive:
    src: 'https://github.com/mozilla/geckodriver/releases/download/v0.24.0/geckodriver-v0.24.0-linux64.tar.gz'
    dest: /usr/bin
    remote_src: yes
  become: true
